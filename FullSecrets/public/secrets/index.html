<html ng-app="AppSecrets" ng-controller="app-controller as app" lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Angular Material style sheet -->
  <link rel="stylesheet" href="css/angular-material.min.css">
  <link rel="stylesheet" href="css/application.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
 

</head>
<body ng-controller="login-controller as login" ng-strict-di layout="column" ng-cloak>

	<md-toolbar class="">
		<div class="md-toolbar-tools" ng-controller="sidenav-controller as sidenav">
		  <md-button class="md-icon-button" aria-label="Settings" ng-disabled="!login.hasUser()" ng-click="sidenav.toggle('left')">
			<md-icon md-svg-icon="img/icons/menu.svg"></md-icon>
		  </md-button>
		  <h2>
			<span></span>
		  </h2>
		  <md-button class="md-icon-button" aria-label="HOME" ui-sref-active="active">
			<i class="material-icons">home</i>
		  </md-button>
		  <md-button class="md-icon-button" aria-label="APPLICATIONS">
			<i class="material-icons">apps</i>
		  </md-button>
		  <md-button class="md-icon-button" aria-label="CONTACT">
			<i class="material-icons">email</i>
		  </md-button>
		  <span flex></span>
       
		  <md-button class="md-icon-button" aria-label="Login" ng-click="showSearch = !showSearch">
			<md-tooltip md-direction="bottom">Search</md-tooltip>
			<md-icon class="material-icons">search</md-icon>
		  </md-button>

		  <md-button class="md-icon-button" aria-label="Login" ng-click="login.show($event)">
			<md-tooltip md-direction="bottom">Login</md-tooltip>
			<md-icon class="material-icons">power_settings_new</md-icon>
		  </md-button>

		  <md-menu>
			<md-button class="md-icon-button" aria-label="More" ng-click="$mdOpenMenu($event)">
			  <md-icon md-svg-icon="img/icons/more_vert.svg"></md-icon>
			</md-button>
			<md-menu-content width="4">
			   <md-menu-item>
				<md-button ng-disabled="!login.hasUser()" ng-click="login.logout()">
				  <md-icon md-menu-align-target md-font-library="material-icons">exit_to_app</md-icon>
				  Logout
				</md-button>
				</md-menu-item>
			</md-menu-content>
		  </md-menu>
		   <md-card  class="anim" ng-show="showSearch" flex md-theme="default" style="position: fixed; width: 300px; top : 10px; left : 95%; margin-left: -300px">
		      <md-input-container flex>
		         <md-icon md-menu-align-target md-font-library="material-icons">search</md-icon>
				 <label>&nbsp;</label>
	             <input ng-model="app.search" util-focus-on="showSearch" placeholder="SEARCH" ng-blur="showSearch = false" style = "width : 90%">
			  </md-input-container>
		  </md-card>
		</div>
	    <app-loading></app-loading>
	</md-toolbar>
	

	<section layout="row" flex ng-controller="sidenav-controller as sidenav">

		<md-sidenav
		    ng-show="login.hasUser()"
			class="md-sidenav-left md-whiteframe-z4"
			md-component-id="left"
			md-is-locked-open="$mdMedia('gt-md')">

			<md-toolbar class="md-tall md-hue-2">
				<span flex></span>
		        <div layout="column" class="md-toolbar-tools-bottom inset">
		          <img style="border-radius: 99%" ng-src="./img/0001.jpg" viewBox="0 0 128 128" class="md-avatar" height="64" width="64" />
		          <span></span>
		          <span class="md-headline">{{sidenav.fullname}}</span>
		          <span class="md-subhead">{{sidenav.username}}</span>
		        </div>
			</md-toolbar>

			<md-content layout-padding>
				<md-list flex>
					<md-list-item ng-click="sidenav.toggle('left')" ui-sref-active="active" href ui-sref="home">
						<md-icon md-menu-align-target md-font-library="material-icons">home</md-icon>
						<p>Home</p>
					</md-list-item>
					<md-subheader class="md-no-sticky">Management</md-subheader>
					<md-list-item ng-click="sidenav.toggle('left')" ui-sref-active="active" href ui-sref="users">
						<md-icon md-menu-align-target md-font-library="material-icons">people</md-icon>
						<p>Users</p>
					</md-list-item>
					<md-divider></md-divider>
		        	<md-list-item ng-click="null">
						<md-icon md-menu-align-target md-font-library="material-icons">cached</md-icon>
						<p>Data Usage</p>
					</md-list-item>
					<md-subheader class="md-no-sticky">About me</md-subheader>
					<md-list-item ng-click="null">
						<md-icon md-menu-align-target md-font-library="material-icons">face</md-icon>
						<p>Portifolio</p>
					</md-list-item>
					<md-divider></md-divider>
				</md-list>	
			</md-content>

		</md-sidenav>

		<md-content flex layout-padding>
		   <div layout="column" layout-align="top">	
				<ui-view>
					<div layout="row" layout-align="center center">
						<h2>Loading ...</h2>
						</div>
					<div layout="row" layout-align="center center">
						<md-progress-circular md-mode="indeterminate"></md-progress-circular>
					</div>
				</ui-view> 
		   </div>
		</md-content>

	</section>
    
  <!-- Angular Material requires Angular.js Libraries 
  <script src="lib/jquery-2.1.4.min.js"></script>  -->
  <script src="lib/angular.min.js"></script>
  <script src="lib/angular-animate.min.js"></script>
  <script src="lib/angular-aria.min.js"></script>
  <script src="lib/angular-messages.min.js"></script>
  <script src="lib/angular-ui-router.min.js"></script>

  <!-- Angular Material Library -->
 
  <script src="lib/angular-material.min.js"></script>
  <script src="lib/svg-asserts-cache.js"></script>
  
  <script>
      angular.module("AppSecrets", ['ngAnimate', 'ui.router', 'secretLogin', 'secretAdmin', 'util'])
        .controller("app-controller", ["$scope", function($scope){
        	this.search="";
        }])
        .config(["$mdThemingProvider", "$httpProvider", 
          function($mdThemingProvider, $httpProvider){
          	$httpProvider.interceptors.push('loadingHttpInterceptor'); 

            $mdThemingProvider.theme('dark-orange')
                .backgroundPalette('orange').dark();
            $mdThemingProvider.theme('default') 
                .primaryPalette('orange')
                .accentPalette('blue-grey');

        }]);
  </script>

  <!-- Home Library -->
  <script src="src/util/util.module.js"></script>
  <script src="src/home/routes.js"></script> 
  <script src="src/home/sidenav.controller.js"></script> 


  <!-- Login Library -->
  <script src="src/login/login.js"></script>
  <script src="src/login/auth.js"></script>
  <script src="src/login/session.js"></script>

  <script src="src/admin/admin.module.js"></script>
  <script src="src/admin/users.service.js"></script>
  <script src="src/admin/users.controller.js"></script>

  <!-- Loading Library -->
  <script src="src/loading/loading.component.js"></script>
  <script src="src/loading/loading.interceptor.js"></script>

    <!-- Loading Library -->
  <script src="src/util/util.focus.directive.js"></script>

</body>
</html>
